import{W as u,S as c,a as g}from"./three.module-3Zv0HqI4.js";/* empty css               */import{g as w}from"./lil-gui.module.min-Vka56b52.js";import{X as f}from"./EPSGTilesPlugin-BNtX7JCY.js";import{T as h}from"./TilesRenderer-BLR3IIoh.js";import{T as P}from"./TilesFadePlugin-DlDYxCwd.js";import{U as C}from"./UpdateOnChangePlugin-Q8Vc2vhK.js";import{E}from"./EnvironmentControls-D6g5jioQ.js";import{G as x}from"./GlobeControls-DMAWdRLD.js";import"./ImageFormatPlugin-Cjc_iToZ.js";import"./TMSImageSource-CiQ4Y-oQ.js";import"./TiledImageSource-BKMINnza.js";import"./I3DMLoader-Cjd7CfgJ.js";import"./readMagicBytes-ReGFEf36.js";import"./GLTFLoader-Cn8Xa2Cq.js";import"./Ellipsoid-crrCss2v.js";import"./B3DMLoader-Bm_j5TBC.js";import"./PNTSLoader-B_eUeV8U.js";import"./CMPTLoader-DuVi9Tjl.js";import"./EllipsoidRegion-CPTavZ5G.js";let n,o,r,e,i;const s={errorTarget:1,planar:!1},a=R(m);T();m();function T(){r=new u({antialias:!0}),r.setPixelRatio(window.devicePixelRatio),r.setSize(window.innerWidth,window.innerHeight),r.setClearColor(1118481),document.body.appendChild(r.domElement),o=new c,i=new g(60,window.innerWidth/window.innerHeight,.001,1e4),l(),p(),window.addEventListener("resize",p,!1);const t=new w;t.add(s,"planar").onChange(l),t.add(s,"errorTarget",1,40).onChange(()=>{e.getPluginByName("UPDATE_ON_CHANGE_PLUGIN").needsUpdate=!0,a()}),t.open()}function l(){e&&e.dispose(),n&&n.dispose(),e=new h,e.registerPlugin(new P({maximumFadeOutTiles:200})),e.registerPlugin(new C),e.registerPlugin(new f({center:!0,shape:s.planar?"planar":"ellipsoid",url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"})),e.lruCache.minSize=900,e.lruCache.maxSize=1300,e.parseQueue.maxJobs=3,e.setCamera(i),o.add(e.group),s.planar?(n=new E(o,i,r.domElement),n.enableDamping=!0,n.minDistance=1e-4,n.maxDistance=5,n.cameraRadius=0,n.fallbackPlane.normal.set(0,0,1),n.up.set(0,0,1),n.camera.position.set(0,0,2),n.camera.quaternion.identity(),i.near=1e-4,i.far=10,i.updateProjectionMatrix()):(e.group.rotation.x=-Math.PI/2,n=new x(o,i,r.domElement),n.setEllipsoid(e.ellipsoid,e.group),n.enableDamping=!0,n.camera.position.set(0,0,1.75*1e7),n.camera.quaternion.identity(),n.minDistance=150),n.addEventListener("change",a),n.addEventListener("end",a),e.addEventListener("needs-render",a),e.addEventListener("needs-update",a),m()}function p(){const t=window.innerWidth/window.innerHeight;i.aspect=t,i.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight),a()}function m(){n.update(),i.updateMatrixWorld(),e.errorTarget=s.errorTarget,e.setCamera(i),e.setResolutionFromRenderer(i,r),e.update(),r.render(o,i)}function R(t){let d=!1;return()=>{d||(d=!0,requestAnimationFrame(()=>{d=!1,t()}))}}
//# sourceMappingURL=mapTiles-DSJHdDc7.js.map
